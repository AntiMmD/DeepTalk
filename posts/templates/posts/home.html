{% extends "posts/_base.html" %}
    {% block css%}
        {% load static %}
        <link rel="stylesheet" href="{% static 'css/home.css' %}">
    {% endblock %}

    {% block body %}
        <div class="container">
            <div class="feed_posts">
                    {% for post in posts%}
                        <div class="feed_post">
                                <div class="post_author">
                                    {{post.user.username}}
                                </div>
                                <div class="post_header">
                                    <h3><a href="{% url 'posts:post_view' post.id %}">
                                        {{post.header}}
                                    </a></h3>
                                </div>
                                <div class="post_contents">
                                    {{post.body|slice:':150'}}
                                    <a href="{% url 'posts:post_view' post.id %}">Read More...</a>
                                </div>
                        </div>
                    {% endfor %}
            </div>
        </div>

        <!-- {{posts}}
        has previous: {{posts.has_previous}}
        has next: {{posts.has_next}}
        current page: {{posts.number}}
        total pages: {{posts.paginator.num_pages}}
        <hr><br>
        {{posts.nex_page_number}}<br> -->




        <nav>
            <span id="page_number">Page {{posts.number}} of {{posts.paginator.num_pages}}</span> 
        </nav>

        <nav>
            <ul class="pagination">
                {% if posts.has_previous %}
                    <li>
                        <a href="?page=1">&laquo;</a>
                    </li>
                {% endif %}

                {% for page_num in posts.paginator.page_range %}

                        {% if page_num >= posts.number|add:'-1' and page_num <= posts.number|add:'2' %}
                            <li>
                                <a href="?page={{ page_num }}">{{ page_num }}</a>
                            </li>
                        {% endif %}

                {% endfor %}

                {% if posts.has_next %}
                    <li>
                        <a href="?page={{ posts.paginator.num_pages }}">&raquo;</a>
                    </li>
                {% endif %}
            </ul>
        </nav>

            {% endblock %}
